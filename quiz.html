<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Take the Personal Security Audit and discover your cybersecurity score.">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/Circle Logo.jpg">
    <link rel="apple-touch-icon" href="/assets/Circle Logo.jpg">
    <title>Security Audit Quiz - Cybersecurity Clarity</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo">Cybersecurity Clarity</a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li class="dropdown">
                        <a href="courses.html">Courses</a>
                        <ul class="dropdown-menu">
                            <li><a href="course.html">Cybersecurity 101</a></li>
                            <li><a href="ai-101.html">AI 101 (Coming Soon)</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="services.html">Services</a>
                        <ul class="dropdown-menu">
                            <li><a href="web-design.html">Website Design</a></li>
                            <li><a href="career-coaching.html">Career Coaching</a></li>
                        </ul>
                    </li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Quiz Container -->
    <section class="section">
        <div class="container">
            <div class="quiz-container">
                <!-- Progress Bar -->
                <div class="progress-text">
                    Question <span id="current-question">1</span> of <span id="total-questions">20</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>

                <!-- Question Card -->
                <div class="question-card">
                    <div class="category-badge" id="category-badge">Loading...</div>
                    <h2 class="question-text" id="question-text">Loading question...</h2>
                    
                    <!-- Options -->
                    <div class="options" id="options-container">
                        <!-- Options will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="quiz-navigation">
                    <button class="btn btn-secondary" id="prev-btn" style="display: none;">Previous</button>
                    <button class="btn btn-primary" id="next-btn" disabled>Next Question</button>
                    <button class="btn btn-primary" id="submit-btn" style="display: none;">See My Results</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Cybersecurity Clarity. Empowering users with security knowledge.</p>
            <p><a href="resources.html">Free Resources</a> • <a href="index.html">Home</a></p>
        </div>
    </footer>

    <!-- Inline Quiz Script -->
    <script>
// ===================================
// QUIZ DATA - All 20 Questions
// ===================================

const quizData = [
    // CATEGORY 1: Password & Account Security (Questions 0-3)
    {
        category: "Password & Account Security",
        question: "How do you manage passwords across your accounts?",
        options: [
            { text: "I reuse the same simple password for all or most non-critical sites", score: 0 },
            { text: "I use a few variations of the same password family", score: 2 },
            { text: "I create unique, complex passwords but have to write some down", score: 4 },
            { text: "Every account has a unique, long, and complex password", score: 5 }
        ]
    },
    {
        category: "Password & Account Security",
        question: "Which tool do you primarily rely on for saving your passwords?",
        options: [
            { text: "None, I try to memorize them or use a common pattern", score: 0 },
            { text: "I save them directly in my web browser (like Chrome or Safari)", score: 2 },
            { text: "I use a free, basic password manager on one device", score: 4 },
            { text: "I use a paid, reputable password manager with syncing across devices", score: 5 }
        ]
    },
    {
        category: "Password & Account Security",
        question: "How extensively have you enabled Multi-Factor Authentication (MFA)?",
        options: [
            { text: "Only where mandatory, and I use SMS text messages", score: 0 },
            { text: "On my most critical accounts (banking, email, social), using SMS or email codes", score: 2 },
            { text: "On all major accounts, primarily using an authenticator app (like Google/Authy)", score: 4 },
            { text: "On all critical and major accounts, using a physical security key (YubiKey) where available", score: 5 }
        ]
    },
    {
        category: "Password & Account Security",
        question: "What is your password review and update routine?",
        options: [
            { text: "I haven't changed my main passwords in years", score: 0 },
            { text: "I only change passwords when a breach is confirmed or I'm locked out", score: 2 },
            { text: "I change my most critical passwords (email/bank) annually", score: 4 },
            { text: "I use my password manager's audit tool to check for weak/breached passwords monthly/quarterly and update as needed", score: 5 }
        ]
    },

    // CATEGORY 2: Social Media & Online Behavior (Questions 4-7)
    {
        category: "Social Media & Online Behavior",
        question: "What level of detail do you share about your current location and daily life?",
        options: [
            { text: "I share my current location, check-ins, or travel plans frequently", score: 0 },
            { text: "I post photos/stories showing location/routine, but delay posting until I leave", score: 2 },
            { text: "I avoid sharing real-time location and only post travel photos after returning home", score: 4 },
            { text: "I restrict all location services, avoid check-ins, and keep most profiles private or utilize pseudonyms", score: 5 }
        ]
    },
    {
        category: "Social Media & Online Behavior",
        question: "How do you handle your personal information (birthday, phone number, pets' names) on public profiles?",
        options: [
            { text: "My full information is publicly visible on my profiles", score: 0 },
            { text: "I share some details, but only with 'Friends' or 'Connections'", score: 2 },
            { text: "I only share vague or incorrect information (e.g., incorrect birthday year)", score: 4 },
            { text: "I share no information that could be used for identity verification or security questions", score: 5 }
        ]
    },
    {
        category: "Social Media & Online Behavior",
        question: "When you install a new app or sign up for a service, how do you review its permissions?",
        options: [
            { text: "I accept all permissions and terms without reading them to proceed quickly", score: 0 },
            { text: "I quickly skim the permissions but usually approve them", score: 2 },
            { text: "I review the requested permissions and deny non-essential ones", score: 4 },
            { text: "I thoroughly review permissions and privacy policy, often choosing an alternative app if the requests seem excessive", score: 5 }
        ]
    },
    {
        category: "Social Media & Online Behavior",
        question: "How do you react to unknown connection requests or DMs on platforms like LinkedIn/Instagram?",
        options: [
            { text: "I accept most requests or respond to DMs, assuming they are harmless", score: 0 },
            { text: "I check their profile for a few seconds before accepting/replying", score: 2 },
            { text: "I usually ignore requests unless I have a mutual connection or clear professional link", score: 4 },
            { text: "I always research or cross-reference the sender externally, blocking/reporting anything suspicious or unverified", score: 5 }
        ]
    },

    // CATEGORY 3: Data Privacy & Protection (Questions 8-11)
    {
        category: "Data Privacy & Protection",
        question: "How often do you back up your critical and non-critical data?",
        options: [
            { text: "Never, or only save to one device (e.g., laptop hard drive)", score: 0 },
            { text: "I manually back up critical files occasionally (a few times a year) to a single external drive", score: 2 },
            { text: "I use an automated cloud service or external drive for most files, running weekly", score: 4 },
            { text: "I follow the 3-2-1 rule (3 copies, 2 different media, 1 offsite) with automated, encrypted, and regular backups", score: 5 }
        ]
    },
    {
        category: "Data Privacy & Protection",
        question: "How do you protect sensitive documents (tax files, legal docs) stored on your cloud or local drives?",
        options: [
            { text: "I just save them in a standard folder without any protection", score: 0 },
            { text: "I rename the files or put a simple folder password on them", score: 2 },
            { text: "I use file encryption software (like BitLocker or VeraCrypt) or a secure, end-to-end encrypted cloud service for sensitive documents", score: 4 },
            { text: "All sensitive data is stored on a dedicated, encrypted drive/container with strong, unique passwords", score: 5 }
        ]
    },
    {
        category: "Data Privacy & Protection",
        question: "How do you handle your browser history, cookies, and tracking prevention?",
        options: [
            { text: "I never clear them and use no ad/tracker blockers", score: 0 },
            { text: "I clear them occasionally and rely on the browser's basic 'Do Not Track' setting", score: 2 },
            { text: "I use a reputable ad-blocker and a VPN/privacy browser (like Firefox/Brave) for sensitive browsing", score: 4 },
            { text: "I use a strong ad/tracker blocker, a privacy-focused browser, a VPN for most traffic, and use 'Incognito/Private' mode by default", score: 5 }
        ]
    },
    {
        category: "Data Privacy & Protection",
        question: "How do you securely dispose of old storage devices (hard drives, USBs, phones)?",
        options: [
            { text: "I sell or throw away the device after a simple file delete or factory reset", score: 0 },
            { text: "I perform a factory reset, but no specific data erasure/overwriting", score: 2 },
            { text: "I use secure wiping software or physically degauss/destroy the drive", score: 4 },
            { text: "I ensure complete data destruction via multiple secure erase passes (DoD standards) or physical shredding before disposal", score: 5 }
        ]
    },

    // CATEGORY 4: Social Engineering Awareness (Questions 12-15)
    {
        category: "Social Engineering Awareness",
        question: "You receive an urgent text message/email from your 'bank' asking to verify a transaction via a link. What is your first action?",
        options: [
            { text: "Click the link immediately to see what the transaction is", score: 0 },
            { text: "I check the sender's name/number/email address but still click the link if it looks plausible", score: 2 },
            { text: "I do not click the link, but I do respond to the email/text asking for confirmation", score: 4 },
            { text: "I do not click the link and instead independently verify the claim by calling the bank's official, published number or logging into the account via a separate, known URL", score: 5 }
        ]
    },
    {
        category: "Social Engineering Awareness",
        question: "How do you typically handle unexpected attachments in emails (e.g., an 'invoice' from an unknown sender)?",
        options: [
            { text: "I download and open the attachment to see what it is", score: 0 },
            { text: "I open it only if I recognize the file type (e.g., PDF) but still click 'Enable Content' if prompted", score: 2 },
            { text: "I scrutinize the sender's full email address and only open it in a secure environment (e.g., Google Docs viewer) if I can't verify the sender", score: 4 },
            { text: "I verify the sender's identity through a separate channel (phone call, new email chain) before downloading or opening any unexpected attachment", score: 5 }
        ]
    },
    {
        category: "Social Engineering Awareness",
        question: "Your boss/colleague sends an unexpected message on an unusual platform (e.g., WhatsApp) with an odd request, like buying gift cards. How do you respond?",
        options: [
            { text: "I assume it's them and immediately follow the instructions", score: 0 },
            { text: "I send a reply via the same channel asking if they are sure", score: 2 },
            { text: "I verify the request through their primary work communication channel (like a company email or desk phone)", score: 4 },
            { text: "I immediately assume it is a scam and report the account or block the sender, then verify with the colleague/boss in person or via their known contact info", score: 5 }
        ]
    },
    {
        category: "Social Engineering Awareness",
        question: "How do you check a link before you click on it?",
        options: [
            { text: "I don't check—I just click based on the text", score: 0 },
            { text: "I glance at the visible URL, looking for brand names", score: 2 },
            { text: "I hover my mouse over the link to see the full URL in the bottom corner of my browser", score: 4 },
            { text: "I always hover, carefully checking the full domain name (not just the displayed text), and use a link scanner (like VirusTotal) if the URL looks complex or suspicious", score: 5 }
        ]
    },

    // CATEGORY 5: Device & Network Security (Questions 16-19)
    {
        category: "Device & Network Security",
        question: "What is your routine for applying security updates (OS, applications, firmware)?",
        options: [
            { text: "I ignore update notifications until the device forces me, or I manually defer them for months", score: 0 },
            { text: "I apply updates only when I have time or after I see a news story about a major bug", score: 2 },
            { text: "I enable automatic updates for my OS and core applications", score: 4 },
            { text: "All my devices are set to automatically install all security patches/updates as soon as they are released, including router firmware", score: 5 }
        ]
    },
    {
        category: "Device & Network Security",
        question: "How is your home Wi-Fi network secured?",
        options: [
            { text: "Open network, or using the default, weak password provided by the ISP", score: 0 },
            { text: "I've changed the password, but it's simple/short (less than 8 characters) and using WPA2", score: 2 },
            { text: "A strong, unique password (12+ characters) using WPA2 encryption, with the network name (SSID) hidden", score: 4 },
            { text: "Using WPA3 encryption (or WPA2-Enterprise), a dedicated Guest Network, and regularly changing the default router admin password", score: 5 }
        ]
    },
    {
        category: "Device & Network Security",
        question: "Do you use dedicated endpoint protection (antivirus/anti-malware)?",
        options: [
            { text: "I don't use any protection beyond what comes pre-installed on the computer", score: 0 },
            { text: "I use a free antivirus or relying solely on Windows Defender/macOS Gatekeeper", score: 2 },
            { text: "I use a paid, reputable anti-malware solution actively configured with real-time protection", score: 4 },
            { text: "I use an advanced, paid security suite (e.g., EDR) that includes proactive features like zero-day exploit protection, dark web monitoring, and VPN", score: 5 }
        ]
    },
    {
        category: "Device & Network Security",
        question: "What security measures are in place for your mobile devices (phone/tablet)?",
        options: [
            { text: "I have no PIN, password, or biometrics set up on my lock screen", score: 0 },
            { text: "I use a simple 4-digit PIN/pattern or just biometrics", score: 2 },
            { text: "I use a strong password (6+ digits) or biometrics, and the device is set to auto-lock quickly", score: 4 },
            { text: "I use a strong password + biometrics, I have remote wipe/tracking enabled, and I do not sideload apps from unofficial stores", score: 5 }
        ]
    }
];

// ===================================
// QUIZ STATE MANAGEMENT
// ===================================

let currentQuestion = 0;
let userAnswers = [];
let categoryScores = {
    "Password & Account Security": 0,
    "Social Media & Online Behavior": 0,
    "Data Privacy & Protection": 0,
    "Social Engineering Awareness": 0,
    "Device & Network Security": 0
};

// ===================================
// DOM ELEMENTS (will be initialized after page loads)
// ===================================

let questionText, categoryBadge, optionsContainer, currentQuestionEl, totalQuestionsEl, progressFill, prevBtn, nextBtn, submitBtn;

// ===================================
// INITIALIZE QUIZ
// ===================================

function initQuiz() {
    // Get DOM elements
    questionText = document.getElementById('question-text');
    categoryBadge = document.getElementById('category-badge');
    optionsContainer = document.getElementById('options-container');
    currentQuestionEl = document.getElementById('current-question');
    totalQuestionsEl = document.getElementById('total-questions');
    progressFill = document.getElementById('progress-fill');
    prevBtn = document.getElementById('prev-btn');
    nextBtn = document.getElementById('next-btn');
    submitBtn = document.getElementById('submit-btn');
    
    // Check if elements exist
    if (!questionText || !categoryBadge || !optionsContainer) {
        console.error('Quiz elements not found!');
        return;
    }
    
    // Set up event listeners
    prevBtn.addEventListener('click', previousQuestion);
    nextBtn.addEventListener('click', nextQuestion);
    submitBtn.addEventListener('click', calculateResults);
    
    // Display first question
    totalQuestionsEl.textContent = quizData.length;
    displayQuestion();
}

// ===================================
// DISPLAY CURRENT QUESTION
// ===================================

function displayQuestion() {
    const current = quizData[currentQuestion];
    
    // Update question text and category
    questionText.textContent = current.question;
    categoryBadge.textContent = current.category;
    
    // Update progress
    currentQuestionEl.textContent = currentQuestion + 1;
    const progressPercent = ((currentQuestion + 1) / quizData.length) * 100;
    progressFill.style.width = progressPercent + '%';
    
    // Clear previous options
    optionsContainer.innerHTML = '';
    
    // Create option buttons
    current.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.textContent = option.text;
        button.dataset.score = option.score;
        button.dataset.index = index;
        
        // Check if this option was previously selected
        if (userAnswers[currentQuestion] !== undefined && userAnswers[currentQuestion].optionIndex === index) {
            button.classList.add('selected');
        }
        
        button.addEventListener('click', () => selectOption(button, option.score, index));
        optionsContainer.appendChild(button);
    });
    
    // Update button visibility
    updateNavigationButtons();
}

// ===================================
// SELECT AN OPTION
// ===================================

function selectOption(selectedButton, score, optionIndex) {
    // Remove 'selected' class from all options
    const allOptions = optionsContainer.querySelectorAll('.option-btn');
    allOptions.forEach(btn => btn.classList.remove('selected'));
    
    // Add 'selected' class to clicked option
    selectedButton.classList.add('selected');
    
    // Store the answer
    userAnswers[currentQuestion] = {
        questionIndex: currentQuestion,
        optionIndex: optionIndex,
        score: score,
        category: quizData[currentQuestion].category
    };
    
    // Enable next/submit button
    if (currentQuestion === quizData.length - 1) {
        submitBtn.disabled = false;
    } else {
        nextBtn.disabled = false;
    }
    
    // Auto-advance to next question after a short delay
    setTimeout(() => {
        if (currentQuestion < quizData.length - 1) {
            nextQuestion();
        }
    }, 500); // 500ms delay so user sees their selection
}

// ===================================
// NAVIGATION FUNCTIONS
// ===================================

function nextQuestion() {
    if (currentQuestion < quizData.length - 1) {
        currentQuestion++;
        displayQuestion();
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion();
    }
}

function updateNavigationButtons() {
    // Show/hide previous button
    if (currentQuestion === 0) {
        prevBtn.style.display = 'none';
    } else {
        prevBtn.style.display = 'inline-block';
    }
    
    // Show/hide next and submit buttons
    if (currentQuestion === quizData.length - 1) {
        nextBtn.style.display = 'none';
        submitBtn.style.display = 'inline-block';
        
        // Check if last question is answered
        if (userAnswers[currentQuestion] !== undefined) {
            submitBtn.disabled = false;
        } else {
            submitBtn.disabled = true;
        }
    } else {
        nextBtn.style.display = 'inline-block';
        submitBtn.style.display = 'none';
        
        // Check if current question is answered
        if (userAnswers[currentQuestion] !== undefined) {
            nextBtn.disabled = false;
        } else {
            nextBtn.disabled = true;
        }
    }
}

// ===================================
// CALCULATE RESULTS
// ===================================

function calculateResults() {
    let totalScore = 0;
    
    // Calculate total and category scores
    userAnswers.forEach(answer => {
        totalScore += answer.score;
        categoryScores[answer.category] += answer.score;
    });
    
    // Cap total score at 90 (which is 90% when displayed)
    const maxPossibleScore = quizData.length * 5; // 20 * 5 = 100
    let percentageScore = Math.round((totalScore / maxPossibleScore) * 100);
    
    // Apply the 90% cap
    if (percentageScore > 90) {
        percentageScore = 90;
    }
    
    // Calculate category percentages (each category has 4 questions * 5 points = 20 max)
    const categoryPercentages = {};
    Object.keys(categoryScores).forEach(category => {
        categoryPercentages[category] = Math.round((categoryScores[category] / 20) * 100);
    });
    
    // Find weakest categories
    const sortedCategories = Object.entries(categoryPercentages)
        .sort((a, b) => a[1] - b[1])
        .slice(0, 2);
    
    // Store results in localStorage
    const results = {
        totalScore: percentageScore,
        categoryScores: categoryPercentages,
        weakestCategories: sortedCategories,
        timestamp: new Date().toISOString()
    };
    
    localStorage.setItem('quizResults', JSON.stringify(results));
    
    // Redirect to results page
    window.location.href = 'results.html';
}

// ===================================
// START QUIZ ON PAGE LOAD
// ===================================

// Wait for DOM to be fully loaded before initializing
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initQuiz);
} else {
    // DOM is already loaded
    initQuiz();
}
    </script>
</body>
</html>
